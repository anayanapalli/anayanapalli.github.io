---
import type { ComponentType } from "react"

interface BaseProps {
  name: string
  link: string
  description: string
}

type AvatarProps = BaseProps & {
  avatar: string
  icon?: never
}

type IconProps = BaseProps & {
  icon: ComponentType
  avatar?: never
}

type Props = AvatarProps | IconProps

const { name, link, description } = Astro.props
const avatar = "avatar" in Astro.props ? Astro.props.avatar : null
const Icon = "icon" in Astro.props ? Astro.props.icon : null
---

<a
  href={link}
  target="_blank"
  rel="noopener noreferrer"
  class="flex items-center gap-4 rounded-lg border border-neutral-200 p-4 dark:border-neutral-800"
>
  {
    avatar && (
      <img
        src={avatar}
        alt={name}
        class="h-12 w-12 rounded-full object-cover"
      />
    )
  }

  {
    Icon && (
      <div class="flex h-12 w-12 items-center justify-center text-2xl text-neutral-700 dark:text-neutral-300">
        <Icon />
      </div>
    )
  }

  <div class="flex flex-col">
    <span class="text-lg font-medium">{name}</span>
    <span class="text-sm text-neutral-600 dark:text-neutral-400">
      {description}
    </span>
  </div>
</a>
